<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>JAVASCRIPT HW4</title>
</head>

<body>
<script>
	// ЗАДАНИЯ ДЛЯ РАЗМИНКИ!!!!!!)))

	//1) Создать обьект car со следующими свойствами model - 'Mercedes', price - '60000', type - 'sedan', year - 2019, quantity - 4
	// Написать функцию которая будет принимать обьект вычитать 2 с поля quantity и возвращать price*quantity !!!
	const car = {
		model: 'Mercedes',
		price: 60000,
		type: 'sedan',
		year: 2019,
		quantity: 4
	};

	function getPrice(car) {
		car.quantity -= 2;
		return car.price * car.quantity;
	}

	console.log(getPrice(car));


	// 2) Записать в новую переменную только те обьекты у которых gender - m и age > 18
	const dataExample = [{
		name: 'John Doe',
		gender: 'm',
		age: 27,
	}, {
		name: 'Harvey Cox',
		gender: 'm',
		age: 16,
	}, {
		name: 'Nathan Dixon',
		gender: 'm',
		age: 23,
	}, {
		name: 'Lily Wyatt',
		gender: 'f',
		age: 28,
	}, {
		name: 'Morgan Lawson',
		gender: 'm',
		age: 50,
	}, {
		name: 'Lilly Blackburn',
		gender: 'f',
		age: 41,
	}, {
		name: 'Kate Sanderson',
		gender: 'f',
		age: 62,
	}, {
		name: 'Reece Howard',
		gender: 'm',
		age: 31,
	}, {
		name: 'Adam Doherty',
		gender: 'm',
		age: 52,
	}, {
		name: 'Eloise Wallace',
		gender: 'f',
		age: 24,
	}, {
		name: 'Luke Nolan',
		gender: 'm',
		age: 69,
	}];

	function newVariable(obj) {
		let newObject = [];
		for (let i = 0; i < obj.length; i++) {
			if (obj[i].gender === 'm' && obj[i].age > 18) newObject[newObject.length] = obj[i];
		}
		return newObject;
	}

	console.log(newVariable(dataExample));

	// 3) Написать фунцию которая принимает 2 параметра! 1 -  число которое будет умножаться на себя такое количество раз которое указано во втором параметре!
	console.log('Возведение в степень');

	function multiplyNumber(first, second) {
		let result = first;
		for (let i = 1; i < second; i++) {
			result *= first;
		}
		return result;
	}

	console.log(multiplyNumber(2, 3));

	// 4) Написать функцию которая принимает 2 параметра from и to, и будет считать сумму  всех нечетных чисел и потом среднее арифметическое от этой суммы!
	console.log('будет считать сумму  всех нечетных чисел и потом среднее арифметическое от этой суммы! циклом');

	function countByCycle(from, to) {
		let sum = 0;
		let count = 0;
		for (let i = from; i <= to; i++) {
			if (i % 2 !== 0) {
				sum += i;
				count++;
			}
		}
		return sum / count;
	}

	console.log(countByCycle(6, 11));


	console.log('будет считать сумму  всех нечетных чисел и потом среднее арифметическое от этой суммы! рекурсией');

	function recursive(from, to) {
		if (from <= to) {
			if (from % 2 !== 0) {
				recursive.counter = recursive.counter ? recursive.counter + 1 : 1;
				return from + recursive(from + 1, to)
			} else {
				return recursive(from + 1, to)
			}
		}
		return 0;
	}

	console.log(recursive(6, 11) / recursive.counter);
	// Задачу решить 2-мя способами! Цыклами и рекурсией!

	// 5) Написать поясниние как будет выполнятся в коллстэке следующий код!
	function a() {
		return b(); // 2 шаг вызываем b()           // 9  шаг возвращет 'HELLO'  вернуло 'HELLO' и стерло в стеке function b()
	}

	function b() {
		return c(); // 3 шаг вызываем c()           // 8  шаг возвращет 'HELLO'  вернуло 'HELLO' и стерло в стеке function c()
	}

	function c() {
		return d(); // 4 шаг вызываем d()          // 7  шаг возвращет 'HELLO'  // вернуло 'HELLO' и стерло в стеке function d()
	}

	function d() {
		return 'HELLO'; // 5 шаг вызываем b()     // 6 шаг возвращет 'HELLO'
	}

	a(); //1 шаг вызов // 10 шаг получаем  'HELLO'  // вернуло 'HELLO' и стерло в стеке function a()

	// 6) Есть переменные! Создать обьект используя эти переменные с ключами, имена которых являются значениями этих переменных!!
	let var1 = "name";
	let var2 = "lastName";
	let var3 = "fullName";
	let var4 = "age";

	let arr = {};
	arr[var1] = 'Harvey';
	arr[var2] = 'Cox';
	arr[var3] = 'Harvey Cox';
	arr[var4] = 16;
	
	console.log(arr);

	// Advanced
	// 7)  Используя  обьект который лежит в переменной impScreen отфильтровать массив в поле children по полю type
	// чтобы остались только те у которых значение rich_text

	const impScreen = {
		name: "Impressum",
		uuid: "0cc57361-9c7d-4f08-a6d9-c254f3516e7d",
		content: {
			component: "page",
			children: [
				{
					type: "rich_text",
					data: {
						_uid: "f6c0525c-7b90-4b64-8166-de0524f53aec",
						content: "*Hello*, this is the **first** text!\n\nThis is a [link](https://google.com)",
						customClass: ""
					}
				},
				{
					type: "info_text",
					data: {
						_uid: "3fb42198-07d4-4820-90f5-08afe01b47c1",
						content: "Und hier kommt noch ein Absatz für Christian!",
						customClass: ""
					}
				},
				{
					type: "rich_text",
					data: {
						_uid: "3fb42198-07d4-4820-90f5-08afe01b47c1",
						content: "Absatz für Christian!",
						customClass: ""
					}
				},
				{
					type: "image",
					data: {
						_uid: "3fb42198-07d4-4820-90f5-08afe01b47c1",
						content: "Christian!",
						customClass: ""
					}
				}
			]
		}
	};

</script>
</body>

</html>